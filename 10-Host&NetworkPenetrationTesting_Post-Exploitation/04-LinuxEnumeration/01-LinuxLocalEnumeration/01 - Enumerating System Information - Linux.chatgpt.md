# 01 - Enumerating System Information - Linux

Note: No transcript was provided. The following summary and commands are inferred from the filename and common eJPT Linux local enumeration practices. Commands are conservative and read-only.

## What the video covers (Introduction / big picture)
- Why local system enumeration is the first step after gaining a shell on a Linux target.
- What “system information” means in practice: distro, version, kernel, architecture, hostname, boot/runtime context, hardware, filesystems/mounts, services/init system, network config, and virtualization/container hints.
- How this information informs next steps (e.g., kernel/CVE matching, service abuse, persistence options).
- Using built-in commands and system files to gather reliable, low-noise data.

## Flow (ordered)
1. Identify OS/distro and release
   - Files: /etc/os-release, /etc/issue, /etc/*release
   - Commands: uname, lsb_release (if present), hostnamectl
2. Kernel and architecture
   - uname -a, uname -r, uname -m, getconf LONG_BIT
3. Host identity and boot context
   - hostname, hostnamectl, uptime, who -b, process 1 (init/system manager)
4. Hardware snapshot
   - CPU, memory, disks/partitions, mounted filesystems, fstab
5. Init/system manager and running services (high level)
   - systemctl/service where applicable
6. Network configuration
   - Interfaces, addresses, routes, listening sockets, ARP/neighbor
   - Name resolution (resolv.conf, hosts, nsswitch.conf)
7. Virtualization/container hints
   - systemd-detect-virt, dmesg, cgroup markers
8. Security posture (lightweight)
   - SELinux/AppArmor status (if present)

## Tools highlighted
- Distro/OS:
  - cat /etc/os-release, cat /etc/issue, cat /proc/version, lsb_release -a
  - uname, hostnamectl, hostname
- Kernel/arch:
  - uname -a/-r/-m, getconf LONG_BIT
- Boot/identity:
  - uptime, who -b, ps -p 1 -o comm=
- Hardware/filesystems:
  - lscpu, free -h, lsblk -f, df -hT, mount, cat /etc/fstab
- Services/init:
  - systemctl, service
- Network:
  - ip a, ip -br a, ip r, ss -tulwn, netstat -tulpen (if present), arp -an, ip neigh
  - cat /etc/resolv.conf, /etc/hosts, /etc/nsswitch.conf
- Virtualization/container:
  - systemd-detect-virt, dmesg | grep -i 'virtual|hypervisor|kvm|vmware|xen|qemu', grep on /proc/1/cgroup, test -f /.dockerenv
- Security (optional quick check):
  - getenforce, sestatus, aa-status
- Useful paths:
  - /etc/os-release, /etc/issue, /etc/fstab, /proc/*

## Typical command walkthrough (detailed, copy-paste friendly)
Run as an unprivileged user. These commands are read-only and should work broadly; fallbacks are included where tools may be missing.

```bash
# Normalize locale for predictable output
export LC_ALL=C

echo "=== OS / DISTRO / KERNEL ==="
uname -a
echo
[ -r /etc/os-release ] && cat /etc/os-release
lsb_release -a 2>/dev/null
cat /etc/issue 2>/dev/null | head -n 1
cat /proc/version 2>/dev/null

echo
echo "=== ARCHITECTURE ==="
uname -m
getconf LONG_BIT 2>/dev/null

echo
echo "=== HOST / BOOT CONTEXT ==="
hostnamectl 2>/dev/null || true
echo "Hostname: $(hostname 2>/dev/null)"
echo "Uptime: $(uptime -p 2>/dev/null)"
echo -n "Last boot: "; who -b 2>/dev/null || true
echo -n "PID 1 (init): "; ps -p 1 -o comm=,pid= 2>/dev/null

echo
echo "=== HARDWARE SNAPSHOT ==="
echo "[CPU]"
lscpu 2>/dev/null | egrep 'Architecture|Model name|CPU\(s\)|Thread|Core|Socket|Hypervisor' || \
  egrep -i 'model name|cpu cores|siblings' /proc/cpuinfo 2>/dev/null | sort -u
echo
echo "[Memory]"
free -h 2>/dev/null || cat /proc/meminfo 2>/dev/null | head
echo
echo "[Block devices / filesystems]"
lsblk -f 2>/dev/null
df -hT 2>/dev/null
echo
echo "[Mounts and fstab]"
mount 2>/dev/null | sed 's/ (/\t(/'
[ -r /etc/fstab ] && cat /etc/fstab

echo
echo "=== SERVICES / INIT SYSTEM ==="
systemctl --version 2>/dev/null | head -n1
systemctl list-units --type=service --state=running 2>/dev/null | head -n 25
service --status-all 2>/dev/null | sed -n '1,25p' || true

echo
echo "=== NETWORK CONFIGURATION ==="
echo "[Interfaces]"
ip -br a 2>/dev/null || ip a 2>/dev/null || ifconfig -a 2>/dev/null
echo
echo "[Routes]"
ip r 2>/dev/null || route -n 2>/dev/null
echo
echo "[Listening sockets]"
ss -tulwn 2>/dev/null || netstat -tulpen 2>/dev/null
echo
echo "[Neighbors / ARP]"
ip neigh 2>/dev/null || arp -an 2>/dev/null
echo
echo "[Name Resolution]"
[ -r /etc/resolv.conf ] && echo "--- /etc/resolv.conf ---" && cat /etc/resolv.conf
[ -r /etc/hosts ] && echo "--- /etc/hosts ---" && cat /etc/hosts
[ -r /etc/nsswitch.conf ] && echo "--- /etc/nsswitch.conf ---" && egrep -v '^\s*#' /etc/nsswitch.conf

echo
echo "=== VIRTUALIZATION / CONTAINER HINTS ==="
systemd-detect-virt 2>/dev/null || true
dmesg 2>/dev/null | egrep -i 'virtual|hypervisor|kvm|vmware|xen|qemu' | head -n 10
[ -f /.dockerenv ] && echo "Docker environment marker found: /.dockerenv"
grep -E 'docker|lxc|container' /proc/1/cgroup 2>/dev/null

echo
echo "=== SECURITY POSTURE (light) ==="
getenforce 2>/dev/null || true
sestatus 2>/dev/null | head -n 5
aa-status 2>/dev/null | head -n 10
```

Optional: Save everything to a file
```bash
bash -c '<paste-above-commands>' | tee linux_sysinfo.txt
```

## Practical tips
- Suppress noise: append 2>/dev/null to commands that may not exist on minimal systems.
- Prefer modern tools: ss over netstat, ip over ifconfig/route; provide fallbacks when needed.
- Distro detection:
  - Primary: cat /etc/os-release
  - Fallbacks: cat /etc/issue, cat /etc/*release
- Map kernel to exploits: record uname -r and distro release; use searchsploit or CVE search later.
- Identify init/system manager early:
  - ps -p 1 -o comm= and hostnamectl help confirm systemd vs SysV; changes how you query services.
- Spot containers/VMs:
  - systemd-detect-virt, /.dockerenv, /proc/1/cgroup markers.
- Filesystems and mounts:
  - Look for unusual mount options (nosuid,nodev,noexec) and network mounts (NFS, CIFS) that may affect privesc/pivoting.
- Name resolution:
  - DNS issues can affect tooling; check resolv.conf and nsswitch.conf.
- Record everything:
  - Pipe to tee to keep a local copy for later analysis.

## Minimal cheat sheet (one-screen flow)
```bash
# OS / kernel / arch
uname -a; [ -r /etc/os-release ] && cat /etc/os-release
cat /etc/issue 2>/dev/null | head -n1
uname -m; getconf LONG_BIT 2>/dev/null

# Host / boot / init
hostnamectl 2>/dev/null || hostname
uptime -p; who -b 2>/dev/null
ps -p 1 -o comm=,pid=

# Hardware / filesystems
lscpu 2>/dev/null | egrep 'Architecture|Model name|CPU\(s\)' || grep -i 'model name' /proc/cpuinfo | head -n1
free -h
lsblk -f
df -hT
mount | sed 's/ (/\t(/'
[ -r /etc/fstab ] && cat /etc/fstab

# Network
ip -br a 2>/dev/null || ip a
ip r
ss -tulwn 2>/dev/null || netstat -tulpen 2>/dev/null
ip neigh 2>/dev/null || arp -an 2>/dev/null
cat /etc/resolv.conf; [ -r /etc/hosts ] && cat /etc/hosts

# Virtualization / container
systemd-detect-virt 2>/dev/null || true
[ -f /.dockerenv ] && echo "Docker detected"
grep -E 'docker|lxc|container' /proc/1/cgroup 2>/dev/null
```

## Summary
- This video (inferred) demonstrates fast, reliable Linux system information enumeration using built-in tools and /proc and /etc data.
- Key outputs to capture: distro and version, kernel and architecture, hostname and boot/init context, CPU/memory/disk, mounts/fstab, running service manager, network interfaces/routes/listeners, DNS/hosts, and virtualization/container indicators.
- These artifacts guide exploit research, privilege escalation strategy, lateral movement, and persistence planning in eJPT workflows.